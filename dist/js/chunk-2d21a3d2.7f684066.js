(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d21a3d2"],{bb51:function(t,e,s){"use strict";s.r(e);var n=s("7a23");function c(t,e,s,c,o,r){var i=Object(n["w"])("heading"),a=Object(n["w"])("posts");return Object(n["p"])(),Object(n["d"])(n["a"],null,[Object(n["g"])(i,{text:"Посты"}),Object(n["g"])(a,{posts:t.getPosts},null,8,["posts"])],64)}var o=s("5530"),r=s("5502"),i={ref:"posts"},a={class:"card-body"},d={class:"card-title"},u={class:"card-text"},b={class:"d-flex justify-content-between align-items-center"},l={key:0,class:"card  mb-3"},h=Object(n["g"])("div",{class:"card-body"},[Object(n["g"])("p",{class:"card-text  text-center"},"Нет еще постов")],-1);function j(t,e,s,c,o,r){return Object(n["p"])(),Object(n["d"])("div",i,[(Object(n["p"])(!0),Object(n["d"])(n["a"],null,Object(n["v"])(r.getPosts,(function(e){return Object(n["p"])(),Object(n["d"])("div",{key:e.id,class:"card  mb-3"},[Object(n["g"])("div",a,[Object(n["g"])("h5",d,Object(n["y"])(e.title),1),Object(n["g"])("p",u,Object(n["y"])(e.excerpt),1),Object(n["g"])("div",b,[Object(n["g"])("span",null," Комментариев: "+Object(n["y"])(e.commentsCount),1),Object(n["g"])("div",null,[Object(n["g"])("button",{class:"btn btn-primary",onClick:function(t){return r.read(e.id)}},"Читать",8,["onClick"]),Object(n["g"])("a",{href:"javascript:",class:"text-danger  ms-3",onClick:function(s){return t.removePost(e.id)}},"Удалить",8,["onClick"])])])])])})),128)),r.getPosts.length?Object(n["e"])("",!0):(Object(n["p"])(),Object(n["d"])("div",l,[h]))],512)}s("4de4");var O={name:"PostsList",props:{posts:{type:Array,default:function(){return[]}}},data:function(){return{showPostsMax:3,showPosts:3}},computed:{getPosts:function(){var t=this;return this.posts.filter((function(e,s){return s<t.showPosts}))}},mounted:function(){var t=this;this.loadPostsIfNeeded(),this.timer=setInterval((function(){return t.loadPostsIfNeeded()}),300)},methods:Object(o["a"])(Object(o["a"])({},Object(r["b"])(["removePost"])),{},{loadPostsIfNeeded:function(){var t=this.$refs.posts.lastElementChild;this.canShowMore(t)&&this.showMore()},canShowMore:function(t){if(!t)return null;var e=t.getBoundingClientRect(),s=window.innerHeight||document.documentElement.clientHeight;return e.top+e.height<=s},showMore:function(){this.showPosts=Math.min(this.showPosts+this.showPostsMax,this.posts.length)},read:function(t){this.$router.push({name:"Post",params:{id:t}})}}),beforeUnmount:function(){clearInterval(this.timer)}};O.render=j;var p=O,f={name:"Home",components:{Posts:p},computed:Object(o["a"])({},Object(r["c"])(["getPosts"]))};f.render=c;e["default"]=f}}]);
//# sourceMappingURL=chunk-2d21a3d2.7f684066.js.map